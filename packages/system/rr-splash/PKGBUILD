# Maintainer: cpasjuste <cpasjuste@gmail.com>

pkgname=rr-splash
pkgver=1
pkgrel=2
pkgdesc="RetroRoot Splash Screen"
arch=('x86_64' 'aarch64')
license=('GPL')
url='https://github.com/rr-retroroot/rr-splash'

# every retroroot pkg must be a member of "game", "emulator", "app" or "system" group
groups=('system')

# a retroroot package should not depends on anything as required libraries
# are in "retroroot-sysroot-*arch*" toolchain package. If not present in sysroot,
# the package should build and link a static library here.
#depends=()

source=("git+$url.git")
sha512sums=('SKIP')

build() {
  cd rr-splash

  source /opt/retroroot/rr-env ${CARCH}

  retroroot-cmake \
    -Bbuild \
    -DCMAKE_INSTALL_PREFIX=${RETROROOT_PREFIX}

  make $MAKEFLAGS -C build
}

package() {
  cd rr-splash
  DESTDIR="$pkgdir" make -C build install
}
